
@using PCV.DAL.ViewModels
@using PCV.Entities
@{
    List<SiteModel> siteList = ViewBag.siteList;


    IList<UserSiteModel> assignedSiteList = ViewBag.assignedSiteList;

}


<table class=" table table-bordered" style="width:100%">
    <thead>
        <tr>
            <td>Site Name</td>
            <td>Site Url</td>
            <td><input type="checkbox" name="select_all" id="chkAll" /> Select all</td>
            <td>Default Site</td>
           
        </tr>
    </thead>
    <tbody>

        @foreach (var item in siteList)
            {

            <tr>
                <td>@item.Site_name</td>
                <td>@item.SiteUrl</td>
                <td>
                    @if (assignedSiteList.Count > 0 && assignedSiteList.Select(m => m.SiteId).ToList().Contains(item.ID))
                    {
                        <input checked type="checkbox" value="@item.ID" name="SiteID" />
                    }
                    else
                    {
                        <input type="checkbox" value="@item.ID" name="SiteId" />
                    }


                </td>

                <td>

                    @if (assignedSiteList.Count > 0 && assignedSiteList.Select(m => m.SiteId).ToList().Contains(item.ID))
                    {
                        if (assignedSiteList.Where(m => m.SiteId == item.ID).FirstOrDefault().IsDefaultSite == true)
                        {
                            <input type="radio" checked value="@item.ID" name="IsDefault" />
                        }
                        else
                        {
                            <input type = "radio"  value = "@item.ID" name = "IsDefault" />
                        }
                    }
                    else
                    {
                        <input type="radio" value="@item.ID" name="IsDefault" />
                    }
                    
                </td>

             
            </tr>
        }
    </tbody>

</table>




<script type="text/javascript">

    $('#chkAll').click(function () {
        var c = this.checked;
        $(':checkbox').prop('checked', c);
    });
</script>