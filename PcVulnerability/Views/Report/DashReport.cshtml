 <!-- BEGIN CONTENT -->
<div class="page-content-wrapper">
    <div class="page-content">
        <!-- BEGIN PAGE HEADER-->
        <div class="breadcrumbs">
            <h1>
                Dashboard
            </h1>
            <ol class="breadcrumb">
                <li>
                    <a href="">Home</a>
                </li>
                <li class="active">Dashboard</li>
            </ol>

        </div>
        <!-- END PAGE HEADER-->
        <!-- BEGIN PAGE CONTENT-->
        <div class="row">
            <div class="col-md-12">


                <div class="row">

                    <div class="col-md-12">
                        <div class="portlet light bordered">

                            <div class="portlet-body form">
                                <form role="form" class="validate-form" method="post" id="myform">
                                    <div class="form-body" style="padding:0px;">
                                        <div class="alert alert-danger display-hide">
                                            <button class="close" data-close="alert"></button>
                                            You have some form errors. Please check below.
                                        </div>



                                        <input type="hidden" id="page-no" name="page_no" value="1" />

                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label">Date Range </label>
                                                    <div class="input-group date-picker input-daterange" data-date-format="dd-mm-yyyy">
                                                        <input type="text" class="form-control required" id="start_range" name="start_range">
                                                        <input type="hidden" id="hdStartRange" />
                                                        <span class="input-group-addon">
                                                            to
                                                        </span>
                                                        <input type="text" class="form-control required" data-date-format="dd-mm-yyyy" id="end_range" name="end_range">
                                                        <input type="hidden" id="hdEndRange" />
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <div class="form-group" id="report-sel-part-error">
                                                    <label class="control-label">&nbsp;</label>

                                                    <button class="button" type="submit" style="margin-top:24px;">Search</button>
                                                </div>
                                            </div>



                                        </div>


                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="portlet light bordered">
                            <div class="portlet-title">
                                <div class="caption">
                                    <i class="fa fa-reorder"></i>Charts Representaion
                                </div>
                                <div class="actions">

                                </div>
                            </div>
                            <div class="portlet-body">
                                <!--div class="pagination-sec pull-right"></div>
                                <div style="clear:both;"></div>-->
                                <!--<div class="table-scrollable">-->

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-reorder"></i> PC Sequrity Fail
                                            </div>
                                            <div class="actions">

                                            </div>
                                        </div>
                                        <div id="linechart_pcSeqFail" style="border:1px solid gray;height:280px"></div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-reorder"></i> Water Wall Not Installed
                                            </div>
                                            <div class="actions">

                                            </div>
                                        </div>
                                        <div id="linechart_WaterWallGraph" style="border:1px solid gray;height:280px"></div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-reorder"></i> Privacy Not Installed
                                            </div>
                                            <div class="actions">

                                            </div>
                                        </div>

                                        <div id="linechart_PrivacyGraph" style="border:1px solid gray;height:280px"></div>
                                    </div>
                                    <div class="col-md-4">

                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-reorder"></i> Antivirus Not Installed
                                            </div>
                                            <div class="actions">

                                            </div>
                                        </div>
                                        <div id="linechart_AntivirusGraph" style="border:1px solid gray ;height:280px"></div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-md-4">

                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-reorder"></i> Shared Not Installed
                                            </div>
                                            <div class="actions">

                                            </div>
                                        </div>
                                        <div id="linechart_SharedFolderGraph" style="border:1px solid gray;height:280px"></div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-reorder"></i> Port 80 Enable
                                            </div>
                                            <div class="actions">

                                            </div>
                                        </div>
                                        <div id="linechart_Port80Graph" style="border:1px solid gray;height:280px"></div>
                                    </div>
                                    <div class="col-md-4">

                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-reorder"></i> Screen Saver Active
                                            </div>
                                            <div class="actions">

                                            </div>
                                        </div>
                                        <div id="linechart_ScreenSaverGraph" style="border:1px solid gray;height:280px"></div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END PAGE CONTENT-->
    </div>
</div>

@section Scripts {



    <script type="text/javascript">
        //google.charts.load('current', { callback: drawOnloadCharts, 'packages': ['corechart', 'line'] });


        google.charts.load('current', { packages: ['corechart', 'line'] }); // use on click only

        var date = new Date();
        var today = new Date(date.getFullYear(), date.getMonth(), date.getDate());
        var end = new Date(date.getFullYear(), date.getMonth(), date.getDate());

        $('#start_range').datepicker({
            format: "dd-mm-yyyy"
        });

        end.setDate(end.getDate() - 15);

        $('#start_range').datepicker('setDate', end);
        $('#end_range').datepicker('setDate', today);





    $('#start_range').on('changeDate', function (selected) {

        var date = $(this).datepicker('getDate');

        date.setDate(date.getDate() + 30);
        $('#end_range').datepicker('setEndDate', date);
        $('#hdStartRange').val(
            $('#start_range').datepicker('getFormattedDate')
        );


    });

    $('#end_range').on('changeDate', function (selected) {

        $('#hdEndRange').val(

            $('#end_range').datepicker('getFormattedDate')

        );


    });


    $("#myform").on("submit", function (event) {
        if ($("#myform").valid()) {

            data = { sDate: $('#hdStartRange').val(), eDate: $('#hdEndRange').val() };

          $.ajax({
              type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: '@Url.Action("LineChart", "Report")',
                data: JSON.stringify(data),
                    success: function (chartsdata) {


                        PcSeqFailGraph(chartsdata);
                        WaterWallGraph(chartsdata.WaterGraph)
                        PrivacyGraph(chartsdata.PrivacyGraph)
                        AntivirusGraph(chartsdata.AntivirusGraph)

                        SharedFolderGraph(chartsdata.SharedFolder)
                        Port80Graph(chartsdata.Port80)
                        ScreenSaverGraph(chartsdata.WindowUpdate)
                       //
                      //  drawChart1(chartsdata);
                    },
                    error: function () {
                        alert("Error loading data! Please try again.");
                    }
                });
        }
        else {

            alert("Invalid")
        }


        event.preventDefault();
        });

        function PcSeqFailGraph(chartData) {

            var data = new google.visualization.DataTable();


            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartData.PassPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Fail ' + chartData.FailPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Total');
            data.addColumn({ type: 'number', role: 'annotation' });


            for (var i = 0; i < chartData.Xpoint.length; i++) {
                data.addRows([[chartData.Xpoint[i], chartData.Ypass[i], chartData.Ypass[i], chartData.Yfail[i], chartData.Yfail[i], chartData.Total[i], chartData.Total[i]]]);
            }


            var options = {

                //"title": "main Graph",
                legend: { position: 'bottom', alignment: 'center' },

                //chart: {
                //    title: 'Box Office Earnings in First Two Weeks of Opening',
                //    subtitle: 'in millions of dollars (USD)'
                //},
                //width: 600,
                //height: 300,
                vAxis: {
                    title: 'Result (in numbers)',
                    titleTextStyle: { color: 'blue' },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                hAxis: {
                    title: 'Days',
                    titleTextStyle: { color: '#bf003d' }


                },
                // curveType: 'function',
                pointSize: 10,


                is3D: true,
                //series: {
                //    0: { color: '#e2431e' },
                //    1: { color: '#e7711b' },
                //    2: { color: '#f1ca3a' }

                //}
                colors: ['lightgreen', 'red', 'yellow']


            };

            //var chart = new google.charts.Line(document.getElementById('linechart_material'));

            //chart.draw(data, google.charts.Line.convertOptions(options));

            var chart = new google.visualization.LineChart(document.getElementById('linechart_pcSeqFail'));
            chart.draw(data, options);

        }
        function WaterWallGraph(chartDataWf) {

            var data = new google.visualization.DataTable();


            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartDataWf.PassPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Fail ' + chartDataWf.FailPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Total');
            data.addColumn({ type: 'number', role: 'annotation' });


            for (var i = 0; i < chartDataWf.Xpoint.length; i++) {
                data.addRows([[chartDataWf.Xpoint[i], chartDataWf.Ypass[i], chartDataWf.Ypass[i], chartDataWf.Yfail[i], chartDataWf.Yfail[i], chartDataWf.Total[i], chartDataWf.Total[i]]]);
            }


            var options = {
                legend: { position: 'bottom', alignment: 'center' },

                vAxis: {
                    title: 'Result (in numbers)',
                    titleTextStyle: { color: 'blue' },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                hAxis: {
                    title: 'Days',
                    titleTextStyle: { color: '#bf003d' }


                },
                pointSize: 10,
                is3D: true,
                colors: ['lightgreen', 'red', 'yellow']



            };
            var chart = new google.visualization.LineChart(document.getElementById('linechart_WaterWallGraph'));
            chart.draw(data, options);

        }
        function PrivacyGraph(chartDataPg) {

            var data = new google.visualization.DataTable();


            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartDataPg.PassPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Fail ' + chartDataPg.FailPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Total');
            data.addColumn({ type: 'number', role: 'annotation' });


            for (var i = 0; i < chartDataPg.Xpoint.length; i++) {
                data.addRows([[chartDataPg.Xpoint[i], chartDataPg.Ypass[i], chartDataPg.Ypass[i], chartDataPg.Yfail[i], chartDataPg.Yfail[i], chartDataPg.Total[i], chartDataPg.Total[i]]]);
            }


            var options = {
                legend: { position: 'bottom', alignment: 'center' },
                vAxis: {
                    title: 'Result (in numbers)',
                    titleTextStyle: { color: 'blue' },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                hAxis: {
                    title: 'Days',
                    titleTextStyle: { color: '#bf003d' }


                },

                pointSize: 10,


                is3D: true,
                colors: ['lightgreen', 'red', 'yellow']
               // chartArea: { width: "50%", height: "70%" }


            };

            var chart = new google.visualization.LineChart(document.getElementById('linechart_PrivacyGraph'));
            chart.draw(data, options);

        }

        function AntivirusGraph(chartDataAv) {

            var data = new google.visualization.DataTable();


            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartDataAv.PassPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Fail ' + chartDataAv.FailPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Total');
            data.addColumn({ type: 'number', role: 'annotation' });


            for (var i = 0; i < chartDataAv.Xpoint.length; i++) {
                data.addRows([[chartDataAv.Xpoint[i], chartDataAv.Ypass[i], chartDataAv.Ypass[i], chartDataAv.Yfail[i], chartDataAv.Yfail[i], chartDataAv.Total[i], chartDataAv.Total[i]]]);
            }


            var options = {
                legend: { position: 'bottom', alignment: 'center' },
                vAxis: {
                    title: 'Result (in numbers)',
                    titleTextStyle: { color: 'blue' },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                hAxis: {
                    title: 'Days',
                    titleTextStyle: { color: '#bf003d' }


                },

                pointSize: 10,


                is3D: true,

                colors: ['lightgreen', 'red', 'yellow']

              //  chartArea: { width: "50%", height: "70%" }


            };

            var chart = new google.visualization.LineChart(document.getElementById('linechart_AntivirusGraph'));
            chart.draw(data, options);

        }

        function SharedFolderGraph(chartDatapcFail) {

            var data = new google.visualization.DataTable();

            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartDatapcFail.PassPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Fail ' + chartDatapcFail.FailPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Total');
            data.addColumn({ type: 'number', role: 'annotation' });

            for (var i = 0; i < chartDatapcFail.Xpoint.length; i++) {
                data.addRows([[chartDatapcFail.Xpoint[i], chartDatapcFail.Ypass[i], chartDatapcFail.Ypass[i], chartDatapcFail.Yfail[i], chartDatapcFail.Yfail[i], chartDatapcFail.Total[i], chartDatapcFail.Total[i]]]);
            }

            var options = {
                legend: { position: 'bottom', alignment: 'center' },
                vAxis: {
                    title: 'Result (in numbers)',
                    titleTextStyle: { color: 'blue' },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                hAxis: {
                    title: 'Days',
                    titleTextStyle: { color: '#bf003d' }


                },

                pointSize: 10,
                is3D: true,
                colors: ['lightgreen', 'red', 'yellow']
                //chartArea: { width: "50%", height: "70%" }


            };
            var chart = new google.visualization.LineChart(document.getElementById('linechart_SharedFolderGraph'));
            chart.draw(data, options);

        }

        function Port80Graph(chartDataP80) {

            var data = new google.visualization.DataTable();

            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartDataP80.PassPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Fail ' + chartDataP80.FailPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Total');
            data.addColumn({ type: 'number', role: 'annotation' });

            for (var i = 0; i < chartDataP80.Xpoint.length; i++) {
                data.addRows([[chartDataP80.Xpoint[i], chartDataP80.Ypass[i], chartDataP80.Ypass[i], chartDataP80.Yfail[i], chartDataP80.Yfail[i], chartDataP80.Total[i], chartDataP80.Total[i]]]);
            }


            var options = {
                legend: { position: 'bottom', alignment: 'center' },
                vAxis: {
                    title: 'Result (in numbers)',
                    titleTextStyle: { color: 'blue' },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                hAxis: {
                    title: 'Days',
                    titleTextStyle: { color: '#bf003d' }


                },

                pointSize: 10,
                is3D: true,
                colors: ['lightgreen', 'red', 'yellow']
                //chartArea: { width: "50%", height: "70%" }


            };
            var chart = new google.visualization.LineChart(document.getElementById('linechart_Port80Graph'));
            chart.draw(data, options);

        }

        function ScreenSaverGraph(chartDatawupdt) {

            var data = new google.visualization.DataTable();


            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartDatawupdt.PassPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Fail ' + chartDatawupdt.FailPercent + '');
            data.addColumn({ type: 'number', role: 'annotation' });
            data.addColumn('number', 'Total');
            data.addColumn({ type: 'number', role: 'annotation' });


            for (var i = 0; i < chartDatawupdt.Xpoint.length; i++) {
                data.addRows([[chartDatawupdt.Xpoint[i], chartDatawupdt.Ypass[i], chartDatawupdt.Ypass[i], chartDatawupdt.Yfail[i], chartDatawupdt.Yfail[i], chartDatawupdt.Total[i], chartDatawupdt.Total[i]]]);
            }


            var options = {
                legend: { position: 'bottom', alignment: 'center' },
                //width: 600,
                //height: 300,
                vAxis: {
                    title: 'Result (in numbers)',
                    titleTextStyle: { color: 'blue' },
                    gridlines: {
                        color: 'transparent'
                    }

                },
                hAxis: {
                    title: 'Days',
                    titleTextStyle: { color: '#bf003d' }


                },
                // curveType: 'function',
                pointSize: 10,


                is3D: true,
                //series: {
                //    0: { color: '#e2431e' },
                //    1: { color: '#e7711b' },
                //    2: { color: '#f1ca3a' }

                //}
                colors: ['lightgreen', 'red', 'yellow']

                //chartArea: { width: "50%", height: "70%" }


            };

            //var chart = new google.charts.Line(document.getElementById('linechart_material'));

            //chart.draw(data, google.charts.Line.convertOptions(options));

            var chart = new google.visualization.LineChart(document.getElementById('linechart_ScreenSaverGraph'));
            chart.draw(data, options);

        }


    </script>

    <script type="text/javascript">

        google.charts.load('current', { callback: drawOnloadCharts, 'packages': ['corechart', 'line'] })



        function drawOnloadCharts() {


            $.ajax({
              type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: '@Url.Action("LineChartInitial", "Report")',
                data: {},
                    success: function (chartsdata) {


                        PcSeqFailGraph(chartsdata);
                        WaterWallGraph(chartsdata.WaterGraph)
                        PrivacyGraph(chartsdata.PrivacyGraph)
                        AntivirusGraph(chartsdata.AntivirusGraph)

                        SharedFolderGraph(chartsdata.SharedFolder)
                        Port80Graph(chartsdata.Port80)
                        ScreenSaverGraph(chartsdata.WindowUpdate)
                       //
                      //  drawChart1(chartsdata);
                    },
                    error: function () {
                        alert("Error loading data! Please try again.");
                    }
                });
        }

    </script>
}