@model PCV.DAL.ViewModels.ReportViewModels


@*<script type="text/javascript" src="https://www.google.com/jsapi"></script>*@


<div style="border:1px solid black" id="linechart_material" class="col-lg-6"></div>
<div style="border:1px solid black" id="linechart_material1" class="col-lg-6"></div><br />
<button id="btnId">Click</button>


@section Scripts {

 

    <script type="text/javascript">
       
        google.charts.load('current', { callback: drawOnloadCharts, 'packages': ['corechart', 'line'] }); // use on load and click

     //   google.charts.load('current', { packages: ['corechart', 'line'] }); // use on click only
     

        function drawOnloadCharts () {
            
            $.ajax({
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: '@Url.Action("LineChart", "Report")',
                data: '{}',
                success: function (chartsdata) {

                    // Callback that creates and populates a data table,
                    // instantiates the pie chart, passes in the data and
                    // draws it.

                    drawChart2(chartsdata)
                },
                error: function () {
                    alert("Error loading data! Please try again.");
                }
            });
        }

        $("#btnId").click(function () {

          
  $.ajax({
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: '@Url.Action("LineChart", "Report")',
                    data: '{}',
                    success: function (chartsdata) {


                        drawChart2(chartsdata);
                      //  drawChart1(chartsdata);
                    },
                    error: function () {
                        alert("Error loading data! Please try again.");
                    }
                });

        })


         @* function DrawChart(chartsdata) {

            var data = new google.visualization.DataTable();

            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass');
            data.addColumn('number', 'Fail');
            data.addColumn('number', 'Total');
            //  alert(chartsdata.Xpoint[0])
            for (var i = 0; i < chartsdata.Xpoint.length; i++) {
                data.addRow([chartsdata.Xpoint[i], chartsdata.Ypass[i], chartsdata.Yfail[i], chartsdata.Total[i]]);
            }



            // Instantiate and draw our chart, passing in some options
            var chart = new google.visualization.LineChart(document.getElementById('chartdiv'));

            chart.draw(data,
                {
                    title: "Show Google Chart in Asp.net",
                    position: "top",
                    fontsize: "14px",
                    chartArea: { width: '80%' },
                    hAxis: {
                        title: 'Days', titleTextStyle: { color: 'blue' }
                    }
                });
        }*@
    </script>



    @*<script type="text/javascript">

                $(function () {
                    $.ajax({
                        type: 'POST',
                        dataType: 'json',
                        contentType: 'application/json',
                        url: '@Url.Action("LineChart", "Report")',
                            data: '{}',
                            success: function (chartsdata) {
                                google.charts.load('current', {
                                    'packages': ['line'], 'callback': function () {

                                        var data = new google.visualization.DataTable();

                                        data.addColumn('string', 'Days');
                                        data.addColumn('number', 'Pass');
                                        data.addColumn('number', 'Fail');
                                        data.addColumn('number', 'Total');
                                        //  alert(chartsdata.Xpoint[0])
                                        for (var i = 0; i < chartsdata.Xpoint.length; i++) {
                                            data.addRow([chartsdata.Xpoint[i], chartsdata.Ypass[i], chartsdata.Yfail[i], chartsdata.Total[i]]);
                                        }



                                        // Instantiate and draw our chart, passing in some options


                                        var options = {
                                            chart: {
                                                title: 'Box Office Earnings in First Two Weeks of Opening',
                                                subtitle: 'in millions of dollars (USD)'
                                            },
                                            //width: 900,
                                            //height: 500,
                                            position: "top",
                                            fontsize: "14px",
                                        };

                                        var chart = new google.charts.Line(document.getElementById('chartdiv'));

                                        chart.draw(data, google.charts.Line.convertOptions(options));



                                    }
                                });


                                // Callback that creates and populates a data table,
                                // instantiates the pie chart, passes in the data and
                                // draws it.


                            },
                            error: function () {
                                alert("Error loading data! Please try again.");
                            }
                        });
                    })

        </script>*@

    <script>

     //   google.charts.load('current', { 'packages': ['line'] });
      //  google.charts.setOnLoadCallback(drawChart2);

        function drawChart2(chartData) {

            var data = new google.visualization.DataTable();
           

            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartData.PassPercent +'');
            data.addColumn('number', 'Fail ' + chartData.FailPercent +'');
            data.addColumn('number', 'Total');

         
            for (var i = 0; i < chartData.Xpoint.length; i++) {
                data.addRows([[chartData.Xpoint[i], chartData.Ypass[i], chartData.Yfail[i], chartData.Total[i]]]);
            }


            var options = {
                chart: {
                    title: 'Box Office Earnings in First Two Weeks of Opening',
                    subtitle: 'in millions of dollars (USD)'
                },
                width: 600,
                height: 300,
                vAxis: {
                    title: 'Result (in numbers)'
                   
                },
               // curveType: 'function',
                pointSize: 10,


                is3D: true,
                //series: {
                //    0: { color: '#e2431e' },
                //    1: { color: '#e7711b' },
                //    2: { color: '#f1ca3a' }
                   
                //}
                colors: ['lightgreen', 'red',  'yellow']

              
            };

            //var chart = new google.charts.Line(document.getElementById('linechart_material'));

            //chart.draw(data, google.charts.Line.convertOptions(options));

            var chart = new google.visualization.LineChart(document.getElementById('linechart_material'));
            chart.draw(data, options);
           
        }
        function drawChart1(chartData) {

            var data = new google.visualization.DataTable();


            data.addColumn('string', 'Days');
            data.addColumn('number', 'Pass ' + chartData.PassPercent + '');
            data.addColumn('number', 'Fail ' + chartData.FailPercent + '');
            data.addColumn('number', 'Total');


            for (var i = 0; i < chartData.Xpoint.length; i++) {
                data.addRows([[chartData.Xpoint[i], chartData.Ypass[i], chartData.Yfail[i], chartData.Total[i]]]);
            }


            var options = {
                chart: {
                    title: 'Box Office Earnings in First Two Weeks of Opening',
                    subtitle: 'in millions of dollars (USD)'
                },
                width: 600,
                height: 300,
                vAxis: {
                    title: 'Result (in numbers)'

                },
                // curveType: 'function',
                pointSize: 10,


                is3D: true,
                //series: {
                //    0: { color: '#e2431e' },
                //    1: { color: '#e7711b' },
                //    2: { color: '#f1ca3a' }

                //}
                colors: ['lightgreen', 'red', 'yellow']


            };

            //var chart = new google.charts.Line(document.getElementById('linechart_material'));

            //chart.draw(data, google.charts.Line.convertOptions(options));

            var chart = new google.visualization.LineChart(document.getElementById('linechart_material1'));
            chart.draw(data, options);

        }
    </script>

}
